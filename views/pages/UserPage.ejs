<!DOCTYPE html>
<html lang="en">
  <head>
      <%- include ('../partials/head.ejs') %>
  </head>
  <body class="container">
    <h1>Etat du compte de Monsieur <%= content.prenom%> <%= content.nom%></h1>
    <canvas id="myChart" width="400" height="400"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
    <script>
      var labels=[];
      var data=[];
      "<% content.depense.forEach(element => {%>" 
      labels.push("<%=element.date%>");
      data.push("<%=element.montant%>");
      "<%});%>"

      var ctx = document.getElementById('myChart');
      var myChart = new Chart(ctx, {
          type: 'line',
          data: {
              labels: labels,
              datasets: [{
                  label: 'montant des dépenses par années',
                  data: data,
                  backgroundColor: 'rgba(255, 99, 132, 0.2)',
                  borderColor: 'rgba(255, 99, 132, 1)',
                  borderWidth: 1
              }]
          },
          options: {
              scales: {
                  yAxes: [{ 
                      ticks: {
                          beginAtZero: true
                      }
                  }]
              }
          }
      });
    </script>
    <button class="btn btn-success" id="signout">
      Sign Out
    </button>

    <button class="btn btn-success" id="add-outcome">Add an outcome</button>

  </body>
  <script type="text/javascript">
    document.getElementById("signout").onclick = function () {
        location.href = "/";
    };
   
    document.getElementById("add-outcome").onclick = function () {
      location.href = "/AddOutcome";
    };

</script>
</html>